var FM={};FM.AssetManager={assets:[],loadingProgress:0,addAsset:function(a,b,e){var d=FM.AssetManager,g=FM.Parameters,c=d.getAssetByName(a),f;if(b===g.IMAGE){if(!c){d.assets.push(new FM.ImageAsset(a,e))}}else{if(b===g.AUDIO){if(!c){f=new FM.AudioAsset(a,e);if(f.isSupported()){d.assets.push(f)}else{console.log("ERROR: The "+e.substring(e.lastIndexOf(".")+1)+" audio format is not supported by this browser.");return false}}}else{if(b===g.FILE){if(!c){d.assets.push(new FM.FileAsset(a,e))}}}}return true},loadAssets:function(){var a,b=FM.AssetManager;for(a=0;a<b.assets.length;a=a+1){b.assets[a].load()}},updateProgress:function(a){var b=FM.AssetManager;b.loadingProgress+=(100*a)/b.assets.length},areAllAssetsLoaded:function(){var c=FM.AssetManager,b,a=true;for(b=0;b<c.assets.length;b=b+1){if(!c.assets[b].loaded){a=false}}return a||Math.round(FM.AssetManager.loadingProgress)>=100},getAssetByName:function(a){var c=null,b=0,d=FM.AssetManager;for(b=0;b<d.assets.length;b=b+1){if(d.assets[b].name===a){c=d.assets[b]}}return c}};FM.Parameters={FPS:60,debug:false,COLLIDER_MINIMUM_SIZE:16,STATIC:"static",KINEMATIC:"kinematic",DYNAMIC:"dynamic",PIXELS_TO_METERS:30,IMAGE:"image",AUDIO:"audio",FILE:"file",LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down"};FM.ComponentTypes={SPATIAL:"spatial",PATHFINDING:"pathfinding",RENDERER:"renderer",PHYSIC:"physic",SOUND:"sound",FX:"fx"};FM.Circle=function(b,a,c){this.x=b;this.y=a;this.radius=c};FM.Circle.prototype.constructor=FM.Circle;FM.Circle.prototype.destroy=function(){this.x=null;this.y=null;this.radius=null};FM.Game={name:"",screenWidth:0,screenHeight:0,backgroundColor:"rgb(0,0,0)",currentState:null,nextState:null,canvas:null,context:null,bufferCanvas:null,bufferContext:null,framesCounter:0,timeCounter:0,fixedDt:1/FM.Parameters.FPS,actualFps:FM.Parameters.FPS,lastComputedFps:FM.Parameters.FPS,currentTime:(new Date()).getTime()/1000,accumulator:0,currentPressedKeys:[],currentReleasedKeys:[],mouseClicked:false,mousePressed:false,mouseReleased:false,mouseX:0,mouseY:0,pause:false,debugActivated:false,gameLoop:function(){if(FM.Game.nextState){FM.Game.currentState.destroy();FM.Game.currentState=FM.Game.nextState;FM.Game.nextState=null;FM.Game.currentState.init()}FM.Game.context.clearRect(0,0,FM.Game.screenWidth,FM.Game.screenHeight);FM.Game.context.fillStyle=FM.Game.backgroundColor;FM.Game.context.fillRect(0,0,FM.Game.screenWidth,FM.Game.screenHeight);var b=(new Date()).getTime()/1000,a=b-FM.Game.currentTime,c=0;if(a>0.25){a=0.25}FM.Game.currentTime=b;if(!FM.Game.pause){FM.Game.accumulator+=a;while(FM.Game.accumulator>=FM.Game.fixedDt){FM.Game.accumulator-=FM.Game.fixedDt;FM.Game.currentState.updatePhysics(FM.Game.fixedDt);FM.Game.currentState.update(FM.Game.fixedDt)}c=FM.Game.accumulator/FM.Game.fixedDt}FM.Game.timeCounter+=a;FM.Game.framesCounter=FM.Game.framesCounter+1;if(FM.Game.timeCounter>=1){FM.Game.lastComputedFps=FM.Game.framesCounter/FM.Game.timeCounter;FM.Game.framesCounter=0;FM.Game.timeCounter=0}FM.Game.actualFps=Math.round(FM.Game.lastComputedFps);FM.Game.currentState.draw(FM.Game.bufferContext,c);if(FM.Game.pause){FM.Game.bufferContext.fillStyle="rgba(99,99,99,0.5)";FM.Game.bufferContext.fillRect(0,0,FM.Game.screenWidth,FM.Game.screenHeight);FM.Game.bufferContext.fillStyle="rgba(255,255,255,1)";FM.Game.bufferContext.beginPath();FM.Game.bufferContext.moveTo(FM.Game.screenWidth/2+60,FM.Game.screenHeight/2);FM.Game.bufferContext.lineTo(FM.Game.screenWidth/2-60,FM.Game.screenHeight/2-60);FM.Game.bufferContext.lineTo(FM.Game.screenWidth/2-60,FM.Game.screenHeight/2+60);FM.Game.bufferContext.lineTo(FM.Game.screenWidth/2+60,FM.Game.screenHeight/2);FM.Game.bufferContext.fill();FM.Game.bufferContext.closePath()}if(FM.Parameters.debug){if(FM.Game.isKeyReleased(FM.Keyboard.HOME)){if(!FM.Game.debugActivated){FM.Game.debugActivated=true}else{FM.Game.debugActivated=false}}if(FM.Game.debugActivated){FM.Game.bufferContext.fillStyle="#fcd116";FM.Game.bufferContext.font="30px sans-serif";FM.Game.bufferContext.textBaseline="middle";FM.Game.bufferContext.fillText(FM.Game.actualFps,10,20)}}FM.Game.context.drawImage(FM.Game.bufferCanvas,0,0);FM.Game.mouseClicked=false;FM.Game.currentReleasedKeys=[];window.requestAnimationFrame(FM.Game.gameLoop)},onKeyPressed:function(a){FM.Game.currentPressedKeys[a.keyCode]=1},onKeyReleased:function(b){var a=b.keyCode;FM.Game.currentReleasedKeys[a]=1;delete FM.Game.currentPressedKeys[a]},onMouseMove:function(a){FM.Game.mouseX=a.clientX-a.target.offsetLeft;FM.Game.mouseY=a.clientY-a.target.offsetTop},onClick:function(a){FM.Game.mouseClicked=true},onMousePressed:function(a){FM.Game.mousePressed=true;FM.Game.mouseReleased=false},onMouseReleased:function(a){FM.Game.mouseReleased=true;FM.Game.mousePressed=false},onFocus:function(a){FM.Game.pause=false},onOutOfFocus:function(a){FM.Game.pause=true},run:function(b,d,a,f,c,e){FM.Game.name=d;FM.Game.screenWidth=a;FM.Game.screenHeight=f;FM.Game.canvas=document.getElementById(b);if(e){FM.Game.currentState=e(c)}else{FM.Game.currentState=new FM.Preloader(c)}if(FM.Game.canvas&&FM.Game.canvas.getContext){FM.Game.context=FM.Game.canvas.getContext("2d");if(FM.Game.context){FM.Game.canvas.width=FM.Game.screenWidth;FM.Game.canvas.height=FM.Game.screenHeight;FM.Game.bufferCanvas=document.createElement("canvas");FM.Game.bufferCanvas.width=FM.Game.screenWidth;FM.Game.bufferCanvas.height=FM.Game.screenHeight;FM.Game.bufferContext=FM.Game.bufferCanvas.getContext("2d");FM.Game.bufferContext.xOffset=0;FM.Game.bufferContext.yOffset=0}}if(FM.Game.context&&FM.Game.bufferContext){FM.Game.canvas.onkeydown=function(g){FM.Game.onKeyPressed(g)};FM.Game.canvas.onkeyup=function(g){FM.Game.onKeyReleased(g)};FM.Game.canvas.onclick=function(g){FM.Game.onClick(g)};FM.Game.canvas.onmousedown=function(g){FM.Game.onMousePressed(g)};FM.Game.canvas.onmouseup=function(g){FM.Game.onMouseReleased(g)};FM.Game.canvas.onmousemove=function(g){FM.Game.onMouseMove(g)};FM.Game.canvas.onfocus=function(g){FM.Game.onFocus(g)};FM.Game.canvas.onblur=function(g){FM.Game.onOutOfFocus(g)};FM.Game.canvas.focus();FM.Game.currentState.init();window.requestAnimationFrame(FM.Game.gameLoop)}},switchState:function(a){FM.Game.nextState=a},setBackgroundColor:function(a){FM.Game.backgroundColor=a},isKeyPressed:function(a){if(FM.Game.currentPressedKeys[a]){return true}else{return false}},isKeyReleased:function(a){if(FM.Game.currentReleasedKeys[a]){return true}else{return false}},isMouseClicked:function(){return FM.Game.mouseClicked},isMousePressed:function(){return FM.Game.mousePressed},isMouseReleased:function(){return FM.Game.mouseReleased},isDebugActivated:function(){return FM.Game.debugActivated},getName:function(){return FM.Game.name},getMouseX:function(){return FM.Game.mouseX+FM.Game.currentState.camera.x},getMouseY:function(){return FM.Game.mouseY+FM.Game.currentState.camera.y},getMouseScreenX:function(){return FM.Game.mouseX},getMouseScreenY:function(){return FM.Game.mouseY},getScreenWidth:function(){return FM.Game.screenWidth},getScreenHeight:function(){return FM.Game.screenHeight},getCurrentState:function(){return FM.Game.currentState}};FM.GameObject=function(a){this.id=0;this.alive=true;this.visible=true;this.types=[];this.scrollFactor=new FM.Vector(1,1);this.components={};this.zIndex=a};FM.GameObject.prototype.constructor=FM.GameObject;FM.GameObject.prototype.addType=function(a){this.types.push(a)};FM.GameObject.prototype.removeType=function(a){this.types.splice(this.types.indexOf(a),1)};FM.GameObject.prototype.hasType=function(a){return this.types.indexOf(a)!==-1};FM.GameObject.prototype.addComponent=function(b){var a=b.name;if(!this.components[a]){this.components[a]=b}return this.components[a]};FM.GameObject.prototype.removeComponent=function(a){if(!this.components[a]){this.components[a]=null}};FM.GameObject.prototype.getComponent=function(a){return this.components[a]};Object.defineProperty(FM.GameObject.prototype,"spatial",{get:function(){return this.components[FM.ComponentTypes.SPATIAL]},set:function(a){this.components[FM.ComponentTypes.SPATIAL]=a}});Object.defineProperty(FM.GameObject.prototype,"renderer",{get:function(){return this.components[FM.ComponentTypes.RENDERER]},set:function(a){this.components[FM.ComponentTypes.RENDERER]=a}});Object.defineProperty(FM.GameObject.prototype,"physic",{get:function(){return this.components[FM.ComponentTypes.PHYSIC]},set:function(a){this.components[FM.ComponentTypes.PHYSIC]=a}});Object.defineProperty(FM.GameObject.prototype,"sound",{get:function(){return this.components[FM.ComponentTypes.SOUND]},set:function(a){this.components[FM.ComponentTypes.SOUND]=a}});Object.defineProperty(FM.GameObject.prototype,"pathfinding",{get:function(){return this.components[FM.ComponentTypes.PATHFINDING]},set:function(a){this.components[FM.ComponentTypes.PATHFINDING]=a}});Object.defineProperty(FM.GameObject.prototype,"fx",{get:function(){return this.components[FM.ComponentTypes.FX]},set:function(a){this.components[FM.ComponentTypes.FX]=a}});FM.GameObject.prototype.kill=function(){this.alive=false};FM.GameObject.prototype.hide=function(){this.visible=false};FM.GameObject.prototype.revive=function(){this.alive=true};FM.GameObject.prototype.show=function(){this.visible=true};FM.GameObject.prototype.getTypes=function(){return this.types};FM.GameObject.prototype.getId=function(){return this.id};FM.GameObject.prototype.setId=function(a){this.id=a};FM.GameObject.prototype.isAlive=function(){return this.alive};FM.GameObject.prototype.isVisible=function(){return this.visible};FM.GameObject.prototype.destroy=function(){this.id=null;this.alive=null;this.visible=null;this.types=null;this.zIndex=null;this.scrollFactor=null;var a=this.spatial;if(a){this.removeComponent(FM.ComponentTypes.SPATIAL);a.destroy();this.spatial=null}a=this.pathfinding;if(a){this.removeComponent(FM.ComponentTypes.PATHFINDING);a.destroy();this.pathfinding=null}a=this.renderer;if(a){this.removeComponent(FM.ComponentTypes.RENDERER);a.destroy();this.renderer=null}a=this.physic;if(a){this.removeComponent(FM.ComponentTypes.PHYSIC);a.destroy();this.physic=null}a=this.sound;if(a){this.removeComponent(FM.ComponentTypes.SOUND);a.destroy();this.sound=null}a=this.fx;if(a){this.removeComponent(FM.ComponentTypes.FX);a.destroy();this.fx=null}this.components=null};FM.Keyboard={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DEL:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,lLEFT_SPECIAL:91,RIGHT_SPECIAL:92,SELECT:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222};FM.Math={addVectors:function(b,a){return new FM.Vector(b.x+a.x,b.y+a.y)},substractVectors:function(b,a){return new FM.Vector(b.x-a.x,b.y-a.y)},multiplyVectors:function(b,a){return new FM.Vector(b.x*a.x,b.y*a.y)},clamp:function(c,b,a){return Math.min(a,Math.max(b,c))},getAngle:function(b,a){return Math.atan2(a.y-b.y,a.x-b.x)},};FM.ObjectType=function(a){this.name=a;this.alive=true;this.visible=true;this.zIndex=1;this.scrollFactor=new FM.Vector(1,1);this.collidesWith=[]};FM.ObjectType.prototype.constructor=FM.ObjectType;FM.ObjectType.prototype.overlapsWithType=function(d){var b=FM.Game.getCurrentState(),p=b.getQuad(),k=b.members,g,f,e,c,m,a,o,q,h,n=null,l=null;for(f=0;f<k.length;f=f+1){a=k[f];if(a.isAlive()){q=a.components[FM.ComponentTypes.PHYSIC];c=a.hasType(this);m=a.hasType(d);if(q&&(c||m)){g=p.retrieve(a);for(e=0;e<g.length;e=e+1){o=g[e];if(o.isAlive()){h=o.components[FM.ComponentTypes.PHYSIC];if(h&&((c&&o.hasType(d))||(m&&o.hasType(this)))){l=q.overlapsWithObject(h);if(l){n=l}}}}}}}return n};FM.ObjectType.prototype.overlapsWithObject=function(e){var f=FM.Game.getCurrentState().getQuad().retrieve(e),d,b,h=e.components[FM.ComponentTypes.PHYSIC],c,g=null,a=null;if(h&&e.isAlive()){for(d=0;d<f.length;d=d+1){b=f[d];c=b.components[FM.ComponentTypes.PHYSIC];if(b.isAlive()&&c&&b.hasType(this)){a=h.overlapsWithObject(c);if(a){g=a}}}}else{if(FM.Parameters.debug){if(!h){console.log("WARNING: you need to provide a game object with a physic component for checking overlaps.")}}}return g};FM.ObjectType.prototype.addTypeToCollideWith=function(b){this.collidesWith.push(b);var d=FM.Game.getCurrentState().members,c,a,e;for(c=0;c<d.length;c=c+1){a=d[c];e=a.components[FM.ComponentTypes.PHYSIC];if(e&&a.hasType(this)){e.addTypeToCollideWith(b)}}};FM.ObjectType.prototype.removeTypeToCollideWith=function(b){this.collidesWith.splice(this.collidesWith.indexOf(b),1);var d=FM.Game.getCurrentState().members,c,a,e;for(c=0;c<d.length;c=c+1){a=d[c];e=a.components[FM.ComponentTypes.PHYSIC];if(e&&a.hasType(this)){e.removeTypeToCollideWith(b)}}};FM.ObjectType.prototype.setZIndex=function(d){this.zIndex=d;var c=FM.Game.getCurrentState().members,b,a;for(b=0;b<c.length;b=b+1){a=c[b];if(a.hasType(this)){a.zIndex=this.zIndex}}};FM.ObjectType.prototype.setScrollFactor=function(c){this.scrollFactor=c;var d=FM.Game.getCurrentState().members,b,a;for(b=0;b<d.length;b=b+1){a=d[b];if(a.hasType(this)){a.scrollFactor=this.scrollFactor}}};FM.ObjectType.prototype.kill=function(){this.alive=false};FM.ObjectType.prototype.hide=function(){this.visible=false};FM.ObjectType.prototype.revive=function(){this.alive=true};FM.ObjectType.prototype.show=function(){this.visible=true};FM.ObjectType.prototype.isAlive=function(){return this.alive};FM.ObjectType.prototype.isVisible=function(){return this.visible};FM.ObjectType.prototype.getName=function(){return this.name};FM.ObjectType.prototype.destroy=function(){this.name=null;this.alive=null;this.visible=null;this.zIndex=null;this.scrollFactor.destroy();this.scrollFactor=null;this.collidesWith=null};FM.Rectangle=function(c,b,a,d){this.x=c;this.y=b;this.width=a;this.height=d};FM.Rectangle.prototype.constructor=FM.Rectangle;FM.Rectangle.prototype.destroy=function(){this.x=null;this.y=null;this.width=null;this.height=null};FM.State=function(){this.screenWidth=0;this.screenHeight=0;this.scroller=null;this.followFrame=null;this.quad=null;this.world=null;this.smoothFollow=false;this.smoothCamera=false;this.followSpeed=new FM.Vector(60,60);this.cameraSpeed=new FM.Vector(60,60);this.members=[];FM.State.lastId=0;this.camera=new FM.Rectangle(0,0,0,0)};FM.State.prototype.constructor=FM.State;FM.State.prototype.sortZIndex=function(b,a){return(b.zIndex-a.zIndex)};FM.State.prototype.init=function(b,a){this.screenWidth=FM.Game.getScreenWidth();this.screenHeight=FM.Game.getScreenHeight();this.world=new FM.World(b||this.screenWidth,a||this.screenHeight);this.quad=new FM.QuadTree(0,new FM.Rectangle(0,0,b||this.screenWidth,a||this.screenHeight));this.camera.width=this.screenWidth;this.camera.height=this.screenHeight;if(FM.Parameters.debug){console.log("INIT: The state has been created.")}};FM.State.prototype.add=function(a){if(a.components){this.members.push(a);a.setId(FM.State.lastId);FM.State.lastId+=1;if(a.components[FM.ComponentTypes.PHYSIC]){this.quad.insert(a)}}else{if(FM.Parameters.debug){console.log("ERROR: you're trying to add something elsethan a game object to the state. This is not allowed.")}}};FM.State.prototype.remove=function(a){this.members.splice(this.members.indexOf(a),1);if(a.components[FM.ComponentTypes.PHYSIC]){this.quad.remove(a)}a.destroy()};FM.State.prototype.sortByZIndex=function(){this.members.sort(this.sortZIndex)};FM.State.prototype.updatePhysics=function(d){var b,a,c,e;this.quad.clear();for(b=0;b<this.members.length;b=b+1){a=this.members[b];if(a.isAlive()){c=a.components;e=a.components[FM.ComponentTypes.PHYSIC];if(e){this.quad.insert(a)}}}for(b=0;b<this.members.length;b=b+1){a=this.members[b];if(a.isAlive()){c=a.components;e=c[FM.ComponentTypes.PHYSIC];if(e){e.update(d)}}}};FM.State.prototype.update=function(e){var g,c,k,l,o,p,b,j,n,f,d,h,m,a;for(g=0;g<this.members.length;g=g+1){c=this.members[g];if(c.isAlive()){k=c.components;l=k[FM.ComponentTypes.SPATIAL];o=k[FM.ComponentTypes.PHYSIC];p=k[FM.ComponentTypes.PATHFINDING];b=k[FM.ComponentTypes.FX];if(p){p.update(e)}if(b){b.update(e)}if(o){if(this.scroller===c){n=this.followFrame.width;f=this.followFrame.height;d=l.position.x+o.offset.x;h=l.position.y+o.offset.y;m=d+o.width;a=h+o.height;if(d<=this.followFrame.x){j=this.camera.x-(this.followFrame.x-d);if(j>=0){if(this.smoothFollow){this.camera.x-=this.followSpeed.x*e;this.followFrame.x-=this.followSpeed.x*e}else{this.camera.x=j;this.followFrame.x=d}}}if(h<=this.followFrame.y){j=this.camera.y-(this.followFrame.y-h);if(j>=0){if(this.smoothFollow){this.camera.y-=this.followSpeed.y*e;this.followFrame.y-=this.followSpeed.y*e}else{this.camera.y=j;this.followFrame.y=h}}}if(m>=this.followFrame.x+n){j=this.camera.x+(m-(this.followFrame.x+n));if(j+this.camera.width<=this.world.width){if(this.smoothFollow){this.camera.x+=this.followSpeed.x*e;this.followFrame.x+=this.followSpeed.x*e}else{this.camera.x=j;this.followFrame.x=m-n}}}if(a>=this.followFrame.y+f){j=this.camera.y+(a-(this.followFrame.y+f));if(j+this.camera.height<=this.world.height){if(this.smoothFollow){this.camera.y+=this.followSpeed.y*e;this.followFrame.y+=this.followSpeed.y*e}else{this.camera.y=j;this.followFrame.y=a-f}}}if(this.smoothFollow&&d>=this.followFrame.x&&m<=this.followFrame.x+n&&h>=this.followFrame.y&&a<=this.followFrame.y+f){this.smoothFollow=false}}}else{if(FM.Parameters.debug&&this.scroller===c){console.log("ERROR: The scrolling object must have a physic component.")}}if(c.update){c.update(e)}}}};FM.State.prototype.draw=function(b,d){b.clearRect(0,0,this.screenWidth,this.screenHeight);b.xOffset=this.camera.x;b.yOffset=this.camera.y;var g,c,e,j,l,k;for(g=0;g<this.members.length;g=g+1){c=this.members[g];if(c.isVisible()||(FM.Parameters.debug&&FM.Game.isDebugActivated()&&c.isAlive())){j=c.components[FM.ComponentTypes.SPATIAL];if(j){k=c.components[FM.ComponentTypes.RENDERER];j.previous.copy(j.position);e=new FM.Vector(j.position.x*d+j.previous.x*(1-d),j.position.y*d+j.previous.y*(1-d));if(k&&c.isVisible()){var a=new FM.Vector(e.x+k.getWidth()/2,e.y+k.getHeight()/2),h=k.getWidth()>k.getHeight()?k.getWidth():k.getHeight(),f=new FM.Vector((this.camera.x+(this.screenWidth-this.camera.width)/2)*c.scrollFactor.x,(this.camera.y+(this.screenHeight-this.camera.height)/2)*c.scrollFactor.y);if(a.x+h/2>=f.x&&a.y+h/2>=f.y&&a.x-h/2<=f.x+this.camera.width&&a.y-h/2<=f.y+this.camera.height){k.draw(b,e)}}if(FM.Parameters.debug&&c.isAlive()){if(FM.Game.isDebugActivated()){l=c.components[FM.ComponentTypes.PHYSIC];if(l){l.drawDebug(b,e)}}}}}}if(FM.Parameters.debug){if(FM.Game.isDebugActivated()){b.strokeStyle="#f0f";b.strokeRect(0-this.camera.x,0-this.camera.y,this.world.width,this.world.height);b.strokeStyle="#8fc";b.strokeRect((this.screenWidth-this.camera.width)/2,(this.screenHeight-this.camera.height)/2,this.camera.width,this.camera.height);if(this.followFrame){b.strokeStyle="#f4f";b.strokeRect(this.followFrame.x-this.camera.x,this.followFrame.y-this.camera.y,this.followFrame.width,this.followFrame.height)}}}};FM.State.prototype.centerCameraOn=function(a){var c=a.components[FM.ComponentTypes.SPATIAL],b=c.position.x-this.camera.width/2;if(b>this.world.x&&b<this.world.width){this.camera.x=b}b=c.position.y-this.camera.height/2;if(b>this.world.y&&b<this.world.height){this.camera.y=b}};FM.State.prototype.centerCameraAt=function(c,b){var a=c-this.camera.width/2;if(a>this.world.x&&a<this.world.width){this.camera.x=a}a=b-this.camera.height/2;if(a>this.world.y&&a<this.world.height){this.camera.y=a}};FM.State.prototype.follow=function(b,d,a,e,c){this.scroller=b;this.followFrame=new FM.Rectangle((this.screenWidth-d)/2+this.camera.x,(this.screenHeight-a)/2+this.camera.y,d,a);this.smoothFollow=e||false;this.followSpeed=c||new FM.Vector(60,60)};FM.State.prototype.unFollow=function(){this.followFrame=null;this.scroller=null};FM.State.prototype.destroy=function(){this.scroller=null;if(this.followFrame){this.followFrame.destroy()}this.followFrame=null;this.camera.destroy();this.camera=null;if(this.world){this.world.destroy();this.world=null;this.quad.clear();this.quad.destroy();this.quad=null}var a;for(a=0;a<this.members.length;a=a+1){this.members[a].destroy();this.members[a]=null}this.members=null};FM.State.prototype.getGameObjectById=function(c){var a,b;for(b=0;b<this.members.length;b=b+1){a=this.members[b];if(a.getId()===c){return a}}return null};FM.State.prototype.getScroller=function(){return this.scroller};FM.State.prototype.getWorld=function(){return this.world};FM.State.prototype.getQuad=function(){return this.quad};FM.TileMap=function(c,a,f,b,e,h,d,g){this.data=[];this.tileSet=c;this.width=a;this.height=f;this.tileWidth=b;this.tileHeight=e;this.types=h;this.zIndex=d;this.collide=g};FM.TileMap.prototype.constructor=FM.TileMap;FM.TileMap.prototype.load=function(a){var r=a.split("\n"),q=null,p=null,f=null,k=null,m=null,b=FM.Game.getCurrentState(),o,l,e,d=this.tileSet.image,h,g,c;for(h=0;h<r.length;h=h+1){q=r[h];if(q){p=[];f=q.split(",",this.width);for(g=0;g<f.length;g=g+1){k=parseInt(f[g]);if(k>0){m=new FM.GameObject(this.zIndex);for(c=0;c<this.types.length;c=c+1){m.addType(this.types[c])}m.addComponent(new FM.SpatialComponent(g*this.tileWidth,h*this.tileHeight,m));o=m.addComponent(new FM.SpriteRendererComponent(this.tileSet,this.tileWidth,this.tileHeight,m));l=k*this.tileWidth;e=Math.floor(l/d.width)*this.tileHeight;if(l>=d.width){e=Math.floor(l/d.width)*this.tileHeight;l=(l%d.width)}o.offset.reset(l,e);b.add(m);p.push(m.getId())}else{p.push(-1)}}this.data.push(p)}}};FM.TileMap.prototype.allowCollisions=function(){this.collide=true};FM.TileMap.prototype.preventCollisions=function(){this.collide=false};FM.TileMap.prototype.canCollide=function(){return this.collide};FM.TileMap.prototype.hasType=function(a){return this.types.indexOf(a)!==-1};FM.TileMap.prototype.getData=function(){return this.data};FM.TileMap.prototype.getTileSet=function(){return this.tileSet};FM.TileMap.prototype.getTileId=function(b,a){return this.data[Math.floor(a/this.tileHeight)][Math.floor(b/this.tileWidth)]};FM.TileMap.prototype.getWidth=function(){return this.width};FM.TileMap.prototype.getHeight=function(){return this.height};FM.TileMap.prototype.getTileWidth=function(){return this.tileWidth};FM.TileMap.prototype.getTileHeight=function(){return this.tileHeight};FM.TileMap.prototype.getZIndex=function(){return this.zIndex};FM.TileMap.prototype.destroy=function(){this.data=null;this.tileSet=null;this.width=null;this.height=null;this.tileWidth=null;this.tileHeight=null;this.types=null;this.zIndex=null;this.collide=null};FM.Vector=function(b,a){this.x=b||0;this.y=a||0};FM.Vector.prototype.constructor=FM.Vector;FM.Vector.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};FM.Vector.prototype.substract=function(a){this.x-=a.x;this.y-=a.y;return this};FM.Vector.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;return this};FM.Vector.prototype.dotProduct=function(a){return(this.x*a.x+this.y*a.y)};FM.Vector.prototype.reset=function(b,a){this.x=b||0;this.y=a||0;return this};FM.Vector.prototype.getLength=function(){return Math.sqrt((this.x*this.x)+(this.y*this.y))};FM.Vector.prototype.getLengthSquared=function(){return(this.x*this.x)+(this.y*this.y)};FM.Vector.prototype.normalize=function(){var a=this.getLength();this.x=this.x/a;this.y=this.y/a};FM.Vector.prototype.copy=function(a){this.x=a.x;this.y=a.y;return this};FM.Vector.prototype.clone=function(){return new FM.Vector(this.x,this.y)};FM.Vector.prototype.isEquals=function(a){return(this.x===a.x&&this.y===a.y)};FM.Vector.prototype.destroy=function(){this.x=null;this.y=null};FM.World=function(a,b){FM.Rectangle.call(this,0,0,a,b);this.tileMaps=[]};FM.World.prototype=Object.create(FM.Rectangle.prototype);FM.World.prototype.constructor=FM.World;FM.World.prototype.loadTileMap=function(a,d,b,c){a.load(d.getLayer(b).toCsv(d.getTileSet(c)));this.tileMaps.push(a)};FM.World.prototype.getTileMapFromType=function(b){var c,a;for(c=0;c<this.tileMaps.length;c=c+1){a=this.tileMaps[c];if(a.hasType(b)){return a}}return null};FM.World.prototype.hasTileCollisions=function(){var a;for(a=0;a<this.tileMaps.length;a=a+1){if(this.tileMaps[a].canCollide()){return true}}return false};FM.World.prototype.destroy=function(){this.tileMaps=null;FM.Rectangle.prototype.destroy.call(this)};FM.Collision=function(b,a){this.a=b||null;this.b=a||null;this.penetration=0;this.normal=null};FM.Collision.prototype.constructor=FM.Collision;FM.Collision.prototype.destroy=function(){this.a=null;this.b=null;this.normal=null;this.penetration=null};FM.Component=function(b,a){if(a){if(a.components){this.name=b;this.owner=a}else{if(FM.Parameters.debug){console.log("ERROR: the owner of the "+b+" component must be a gameObject.")}}}else{if(FM.Parameters.debug){console.log("ERROR: a owner game object must be specified.")}}};FM.Component.prototype.constructor=FM.Component;FM.Component.prototype.destroy=function(){this.name=null;this.owner=null};FM.Asset=function(a,b){this.name=a;this.path=b;this.loaded=false;this.completionLevel=0};FM.Asset.prototype.constructor=FM.Asset;FM.AudioAsset=function(a,b){FM.Asset.call(this,a,b);this.audio=new Audio();this.extension=this.path.substring(this.path.lastIndexOf(".")+1)};FM.AudioAsset.prototype=Object.create(FM.Asset.prototype);FM.AudioAsset.prototype.constructor=FM.AudioAsset;FM.AudioAsset.prototype.load=function(c){this.audio.src=this.path;this.loaded=false;if(!c){this.audio.onloadeddata=function(d){if(d){d.target.owner.loaded=true}}}else{this.audio.onloadeddata=function(d){if(d){d.target.owner.loaded=true}c(this)}}this.audio.owner=this;var a=this,b=new XMLHttpRequest();b.open("GET",this.path,true);b.responseType="arraybuffer";b.onprogress=function(f){var d=a.completionLevel;a.completionLevel=(f.loaded/f.total);FM.AssetManager.updateProgress(a.completionLevel-d)};b.send()};FM.AudioAsset.prototype.isSupported=function(){var a=false;if(this.extension==="wav"){a=!!this.audio.canPlayType&&this.audio.canPlayType('audio/wav; codecs="1"')!==""}else{if(this.extension==="ogg"){a=!!this.audio.canPlayType&&this.audio.canPlayType('audio/ogg; codecs="vorbis"')!==""}else{if(this.extension==="mp3"){a=!!this.audio.canPlayType&&this.audio.canPlayType("audio/mpeg;")!==""}else{if(this.extension==="aac"){a=!!this.audio.canPlayType&&this.audio.canPlayType('audio/mp4; codecs="mp4a.40.2"')!==""}}}}return a};FM.FileAsset=function(a,b){FM.Asset.call(this,a,b);this.request=new XMLHttpRequest();this.content=null};FM.FileAsset.prototype=Object.create(FM.Asset.prototype);FM.FileAsset.prototype.constructor=FM.FileAsset;FM.FileAsset.prototype.load=function(){var a=this;this.request.onload=function(b){b.target.owner.loaded=true;b.target.owner.content=this.responseText};this.request.owner=this;this.request.open("GET",this.path,true);this.request.onprogress=function(c){var b=a.completionLevel;a.completionLevel=(c.loaded/c.total);FM.AssetManager.updateProgress(a.completionLevel-b)};this.request.send()};FM.ImageAsset=function(a,b){FM.Asset.call(this,a,b);this.image=new Image()};FM.ImageAsset.prototype=Object.create(FM.Asset.prototype);FM.ImageAsset.prototype.constructor=FM.ImageAsset;FM.ImageAsset.prototype.load=function(){this.image.src=this.path;this.image.onload=function(c){c.target.owner.loaded=true};this.image.owner=this;var a=this,b=new XMLHttpRequest();b.open("GET",this.path,true);b.responseType="arraybuffer";b.onprogress=function(d){var c=a.completionLevel;a.completionLevel=(d.loaded/d.total);FM.AssetManager.updateProgress(a.completionLevel-c)};b.send()};FM.Preloader=function(a){FM.State.call(this);this.firstState=a;this.logo=new Image();this.logoLoaded=false;this.logo.src="data:image/png;base64,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";var b=this;this.logo.onload=function(){b.logoLoaded=true}};FM.Preloader.prototype=Object.create(FM.State.prototype);FM.Preloader.prototype.constructor=FM.Preloader;FM.Preloader.prototype.init=function(){FM.State.prototype.init.call(this);FM.Game.setBackgroundColor("#fff")};FM.Preloader.prototype.update=function(b){FM.State.prototype.update.call(this,b);var a=FM.AssetManager;if(a.assets.length===0||a.areAllAssetsLoaded()){FM.Game.switchState(this.firstState);FM.Game.setBackgroundColor("#000")}};FM.Preloader.prototype.draw=function(a,b){FM.State.prototype.draw.call(this,a,b);a.fillStyle="#000";a.font="30px sans-serif";a.textBaseline="middle";a.fillText(Math.ceil(FM.AssetManager.loadingProgress)+"%",this.screenWidth/2-20,this.screenHeight/2+20);if(this.logoLoaded){a.drawImage(this.logo,this.screenWidth/2-this.logo.width/2,this.screenHeight/4)}};FM.Preloader.prototype.destroy=function(){this.firstState=null;this.logo=null;this.logoLoaded=null;FM.State.prototype.destroy.call(this)};FM.Node=function(b,a){this.MAX_OBJECTS=10;this.MAX_LEVELS=5;this.level=b;this.objects=[];this._stuckObjects=[];this.bounds=a;this.nodes=[]};FM.Node.prototype.constructor=FM.Node;FM.Node.prototype._getIndices=function(a){var i=[],c=a.spatial,h=a.physic,b=this.bounds.x+this.bounds.width/2,j=this.bounds.y+this.bounds.height/2,g=c.position.x<b,f=c.position.x>b||c.position.x+h.width>b,e=c.position.y<j,d=c.position.y>j||c.position.y+h.height>j;if(e){if(g){i.push(0)}if(f){i.push(1)}}if(d){if(g){i.push(2)}if(f){i.push(3)}}return i};FM.Node.prototype._getIndex=function(b){var c=0,a=b.spatial.position,e=(a.x>this.bounds.x+this.bounds.width/2)?false:true,d=(a.y>this.bounds.y+this.bounds.height/2)?false:true;if(e){if(!d){c=2}}else{if(d){c=1}else{c=3}}return c};FM.Node.prototype.split=function(){var b=this.bounds.width/2,c=this.bounds.height/2,a=this.bounds.x,d=this.bounds.y;this.nodes.push(new FM.Node(this.level+1,new FM.Rectangle(a,d,b,c)));this.nodes.push(new FM.Node(this.level+1,new FM.Rectangle(a+b,d,b,c)));this.nodes.push(new FM.Node(this.level+1,new FM.Rectangle(a,d+c,b,c)));this.nodes.push(new FM.Node(this.level+1,new FM.Rectangle(a+b,d+c,b,c)))};FM.Node.prototype.insert=function(b){var c=this._getIndex(b),a=b.spatial.position,f=b.physic,e=this.nodes[c],d;if(this.nodes.length>0){if(a.x>=e.bounds.x&&a.x+f.width<=e.bounds.x+e.bounds.width&&a.y>=e.bounds.y&&a.y+f.height<=e.bounds.y+e.bounds.height){e.insert(b)}else{this._stuckObjects.push(b)}return}this.objects.push(b);if(this.objects.length>this.MAX_OBJECTS&&this.level<this.MAX_LEVELS){if(this.nodes.length===0){this.split();for(d=0;d<this.objects.length;d++){this.insert(this.objects[d])}this.objects.length=0}}};FM.Node.prototype.remove=function(a){if(this.nodes.length>0){this.nodes[this._getIndex(a)].remove(a);return}this.objects.splice(this.objects.indexOf(a),1)};FM.Node.prototype.retrieve=function(a){var d=[],c=this._getIndices(a),b;for(b=0;b<c.length;b++){if(this.nodes.length>0){d=d.concat(this.nodes[c[b]].retrieve(a))}}for(b=0;b<this._stuckObjects.length;b=b+1){if(a.getId()!==this._stuckObjects[b].getId()){d.push(this._stuckObjects[b])}}for(b=0;b<this.objects.length;b=b+1){if(a.getId()!==this.objects[b].getId()){d.push(this.objects[b])}}return d};FM.Node.prototype.clear=function(){this.objects.length=0;this._stuckObjects.length=0;for(var a=0;a<this.nodes.length;a=a+1){if(this.nodes[a]){this.nodes[a].clear();this.nodes[a]=null}}this.nodes.length=0};FM.Node.prototype.destroy=function(){this.level=null;this.bounds=null;for(var a=0;a<this.nodes.length;a++){if(this.nodes[a]){this.nodes[a].destroy();this.nodes[a]=null}}this.nodes=null;this.objects=null;this._stuckObjects=null;this.MAX_LEVELS=null;this.MAX_OBJECTS=null};FM.QuadTree=function(b,a){this.root=new FM.Node(b,a)};FM.QuadTree.prototype.constructor=FM.QuadTree;FM.QuadTree.prototype.insert=function(a){this.root.insert(a)};FM.QuadTree.prototype.remove=function(a){this.root.remove(a)};FM.QuadTree.prototype.retrieve=function(a){return this.root.retrieve(a)};FM.QuadTree.prototype.clear=function(){this.root.clear()};FM.QuadTree.prototype.destroy=function(){this.root.destroy();this.root=null};(function(){if(typeof Object.create!=="function"){Object.create=function(e){function d(){}d.prototype=e;return new d()}}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(d){return d.__proto__}}else{Object.getPrototypeOf=function(d){return d.constructor.prototype}}}var a,b=0,c=["ms","moz","webkit","o"];for(a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(g){var d=new Date().getTime(),e=Math.max(0,16-(d-b)),f=window.setTimeout(function(){g(d+e)},e);b=d+e;return f}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}FM.includeJsFile=function(e){var f=document.getElementsByTagName("head")[0],d=document.createElement("script");d=document.createElement("script");d.src=e;d.type="text/javascript";f.appendChild(d)}}());FM.TmxLayer=function(){this.map=null;this.name=null;this.x=0;this.y=0;this.width=0;this.height=0;this.opacity=0;this.visible=false;this.tileGids=[];this.properties=null};FM.TmxLayer.prototype.constructor=FM.TmxLayer;FM.TmxLayer.prototype.load=function(h,k){this.map=k;this.name=h.getAttribute("name");this.x=parseInt(h.getAttribute("x"));this.y=parseInt(h.getAttribute("y"));this.width=parseInt(h.getAttribute("width"));this.height=parseInt(h.getAttribute("height"));this.visible=!h.getAttribute("visible")||(h.getAttribute("visible")!==0);this.opacity=parseInt(h.getAttribute("opacity"));var g=h.getElementsByTagName("properties")[0],b=h.getElementsByTagName("data")[0],m=b.getElementsByTagName("tile"),l,f,c;if(g){for(c=0;c<g.childNodes.length;c=c+1){if(g.hasChildNodes()===true){l=g.childNodes[c];if(l.nodeType===1){if(this.properties){this.properties.add(l)}else{this.properties=new FM.TmxPropertySet();this.properties.add(l)}}}}}if(b){var j="",e=this.width,a=-1,d;if(!b.getAttribute("encoding")||(b.getAttribute("encoding")&&b.getAttribute("encoding").length===0)){for(c=0;c<m.length;c=c+1){f=m[c];if(++e>=this.width){this.tileGids[++a]=[];e=0}d=f.getAttribute("gid");this.tileGids[a].push(d)}}else{if(b.getAttribute("encoding")==="csv"){j=b.childNodes[0].nodeValue;this.tileGids=this.csvToArray(j,this.width)}else{if(b.getAttribute("encoding")==="base64"){console.log("ERROR: TmxLoader, use XML or CSV export.")}}}}};FM.TmxLayer.prototype.toCsv=function(g){var e=16777215,c=0,k="",h=null,f="",a=0,d,b;if(g){c=g.firstGID;e=g.numTiles-1}for(d=0;d<this.tileGids.length;d=d+1){h=this.tileGids[d];f="";a=0;for(b=0;b<h.length;b=b+1){a=h[b];a-=c;if(a<0||a>e){a=0}k+=f;f=a+","}k+=a+"\n"}return k};FM.TmxLayer.prototype.csvToArray=function(e,d){var k=[],h=e.split("\n"),g=null,f=null,c=null,b,a;for(b=0;b<h.length;b=b+1){g=h[b];if(g){f=[];c=g.split(",",d);for(a=0;a<c.length;a=a+1){f.push(c[a])}k.push(f)}}return k};FM.TmxMap=function(){this.map=null;this.version="unknown";this.orientation="orthogonal";this.width=0;this.height=0;this.tileWidth=0;this.tileHeight=0;this.properties=null;this.layers=[];this.tileSets=[];this.objectGroups=[]};FM.TmxMap.prototype.constructor=FM.TmxMap;FM.TmxMap.prototype.load=function(m){var l,a;if(window.DOMParser){a=new DOMParser();l=a.parseFromString(m,"text/xml")}else{l=new ActiveXObject("Microsoft.XMLDOM");l.async=false;l.loadXML(m)}this.map=l.getElementsByTagName("map")[0];this.version=this.map.getAttribute("version")||"unknown";this.orientation=this.map.getAttribute("orientation")||"orthogonal";this.width=parseInt(this.map.getAttribute("width"));this.height=parseInt(this.map.getAttribute("height"));this.tileWidth=parseInt(this.map.getAttribute("tilewidth"));this.tileHeight=parseInt(this.map.getAttribute("tileheight"));var h=this.map.getElementsByTagName("properties")[0],g=this.map.getElementsByTagName("tileset"),d=this.map.getElementsByTagName("layer"),e=this.map.getElementsByTagName("objectgroup"),j,b,f,k,c;if(h){for(c=0;c<h.childNodes.length;c=c+1){if(h.hasChildNodes()===true){j=h.childNodes[c];if(j.nodeType===1){if(this.properties){this.properties.add(j)}else{this.properties=new FM.TmxPropertySet();this.properties.add(j)}}}}}if(g){for(c=0;c<g.length;c=c+1){b=g[c];this.tileSets[b.getAttribute("name")]=new FM.TmxTileSet();this.tileSets[b.getAttribute("name")].load(b,this)}}if(d){for(c=0;c<d.length;c=c+1){f=d[c];this.layers[f.getAttribute("name")]=new FM.TmxLayer();this.layers[f.getAttribute("name")].load(f,this)}}if(e){for(c=0;c<e.length;c=c+1){k=e[c];this.objectGroups[k.getAttribute("name")]=new FM.TmxObjectGroup();this.objectGroups[k.getAttribute("name")].load(k,this)}}};FM.TmxMap.prototype.getTileSet=function(a){return this.tileSets[a]};FM.TmxMap.prototype.getLayer=function(a){return this.layers[a]};FM.TmxMap.prototype.getObjectGroup=function(a){return this.objectGroups[a]};FM.TmxMap.prototype.getGidOwner=function(b){var a=null;for(a in this.tileSets){if(a.hasGid(b)){return a}}return null};FM.TmxObject=function(f,a){this.group=a;this.name=f.getAttribute("name");this.type=f.getAttribute("type");this.x=parseInt(f.getAttribute("x"));this.y=parseInt(f.getAttribute("y"));this.width=parseInt(f.getAttribute("width"));this.height=parseInt(f.getAttribute("height"));this.shared=null;this.gid=-1;if(f.getAttribute("gid")&&f.getAttribute("gid").length!==0){this.gid=parseInt(f.getAttribute("gid"));var g=this.group.map.tileSets,d,c;if(g){for(c=0;c<g.length;c=c+1){d=g[c];this.shared=d.getPropertiesByGid(this.gid);if(this.shared){break}}}}var b=f.getElementsByTagName("properties")[0],e,c;if(b){for(c=0;c<b.childNodes.length;c=c+1){if(b.hasChildNodes()===true){e=b.childNodes[c];if(e.nodeType===1){if(this.custom){this.custom.add(e)}else{this.custom=new FM.TmxPropertySet();this.custom.add(e)}}}}}};FM.TmxObject.prototype.constructor=FM.TmxObject;FM.TmxObjectGroup=function(){this.map=null;this.name=null;this.x=0;this.y=0;this.width=0;this.height=0;this.opacity=0;this.visible=false;this.properties=null;this.objects=[]};FM.TmxObjectGroup.prototype.constructor=FM.TmxObjectGroup;FM.TmxObjectGroup.prototype.load=function(e,a){this.map=a;this.name=e.getAttribute("name");this.x=parseInt(e.getAttribute("x"));this.y=parseInt(e.getAttribute("y"));this.width=parseInt(e.getAttribute("width"));this.height=parseInt(e.getAttribute("height"));this.visible=!e.getAttribute("visible")||(e.getAttribute("visible")!==0);this.opacity=parseInt(e.getAttribute("opacity"));var d=e.getElementsByTagName("properties")[0],g=e.getElementsByTagName("object"),f,b,c;if(d){for(c=0;c<d.childNodes.length;c=c+1){if(d.hasChildNodes()===true){f=d.childNodes[c];if(f.nodeType===1){if(this.properties){this.properties.add(f)}else{this.properties=new FM.TmxPropertySet();this.properties.add(f)}}}}}if(g){for(c=0;c<g.length;c=c+1){b=g[c];this.objects.push(new FM.TmxObject(b,this))}}};FM.TmxPropertySet=function(){Array.call(this)};FM.TmxPropertySet.prototype=Object.create(Array.prototype);FM.TmxPropertySet.prototype.constructor=FM.TmxPropertySet;FM.TmxPropertySet.prototype.add=function(a){var b=a.getAttribute("name"),c=a.getAttribute("value");this[b]=c};FM.TmxTileSet=function(){this.tileProperties=[];this.image=null;this.firstGID=0;this.map=null;this.name=null;this.tileWidth=0;this.tileHeight=0;this.spacing=0;this.margin=0;this.imageSource=null;this.numTiles=16777215;this.numRows=1;this.numCols=1};FM.TmxTileSet.prototype.constructor=FM.TmxTileSet;FM.TmxTileSet.prototype.load=function(h,a){this.map=a;this.firstGID=parseInt(h.getAttribute("firstgid"));this.imageSource=h.getElementsByTagName("image")[0].getAttribute("source");this.name=h.getAttribute("name");this.tileWidth=parseInt(h.getAttribute("tilewidth"));this.tileHeight=parseInt(h.getAttribute("tileheight"));this.spacing=parseInt(h.getAttribute("spacing"));this.margin=parseInt(h.getAttribute("margin"));var b=h.getElementsByTagName("tile"),f,e,g,d,c;if(b){for(d=0;d<b.length;d=d+1){f=b[d];e=f.getElementsByTagName("properties")[0];if(e){for(c=0;c<e.childNodes.length;c=c+1){if(e.hasChildNodes()===true){g=e.childNodes[c];if(g.nodeType===1){this.tileProperties[f.getAttribute("id")]=new FM.TmxPropertySet();this.tileProperties[f.getAttribute("id")].add(g)}}}}}}};FM.TmxTileSet.prototype.getImage=function(){return this.image};FM.TmxTileSet.prototype.setImage=function(a){this.image=a;this.numCols=Math.floor(this.image.width/this.tileWidth);this.numRows=Math.floor(this.image.height/this.tileHeight);this.numTiles=this.numRows*this.numCols};FM.TmxTileSet.prototype.hasGid=function(a){return(a>=this.firstGID)&&(a<this.firstGID+this.numTiles)};FM.TmxTileSet.prototype.fromGid=function(a){return a-this.firstGID};FM.TmxTileSet.prototype.toGid=function(a){return this.firstGID+a};FM.TmxTileSet.prototype.getPropertiesByGid=function(a){return this.tileProperties[a-this.firstGID]};FM.TmxTileSet.prototype.getProperties=function(a){return this.tileProperties[a]};FM.TmxTileSet.prototype.getRect=function(a){return new FM.Rectangle(0,0,(a%this.numCols)*this.tileWidth,(a/this.numCols)*this.tileHeight)};FM.EmitterComponent=function(a,b){FM.Component.call(this,FM.ComponentTypes.FX,b);this.particles=[];this.offset=a;this.directions=[FM.Parameters.LEFT,FM.Parameters.RIGHT,FM.Parameters.UP,FM.Parameters.DOWN];this.maxParticles=0;this.frequency=0.1;this.quantity=0;this.alpha=1;this.minParticleVelocity=new FM.Vector(-100,-100);this.maxParticleVelocity=new FM.Vector(100,100);this.minParticleAngularVelocity=-100;this.maxParticleAngularVelocity=100;this.active=false;this.timer=0;this.spatial=b.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}};FM.EmitterComponent.prototype=Object.create(FM.Component.prototype);FM.EmitterComponent.prototype.constructor=FM.EmitterComponent;FM.EmitterComponent.prototype.add=function(a){this.particles.push(a);return a};FM.EmitterComponent.prototype.createParticles=function(c,e,b,k,f,j){var d,g,h,a=FM.Game.getCurrentState();this.alpha=f;for(d=0;d<c;d=d+1){g=new FM.GameObject(j);g.addComponent(new FM.SpatialComponent(this.spatial.position.x+this.offset.x,this.spatial.position.y+this.offset.y,g));h=g.addComponent(new FM.SpriteRendererComponent(e,b,k,g));h.setAlpha(this.alpha);g.addComponent(new FM.AabbComponent(b,k,g));g.age=0;g.lifeSpan=0;g.hide();g.kill();a.add(g);this.particles.push(g)}};FM.EmitterComponent.prototype.emit=function(c,a,d){this.active=true;this.timer=0;this.frequency=a;this.quantity=d;var b;for(b=0;b<this.particles.length;b=b+1){this.particles[b].lifeSpan=c}};FM.EmitterComponent.prototype.update=function(b){if(this.active){var e,d,g,f,a,k,h,c;for(e=0;e<this.particles.length;e=e+1){f=this.particles[e];if(f.isAlive()){if(f.age>=f.lifeSpan){f.hide();f.kill()}else{h=f.getComponent(FM.ComponentTypes.RENDERER);if(h.getAlpha()>=1-(f.age/f.lifeSpan)){h.setAlpha(1-(f.age/f.lifeSpan))}f.age+=b}}}this.timer+=b;if(this.frequency!==-2&&(this.frequency===0||this.timer>=this.frequency)){if(this.frequency===-1){this.frequency=-2}this.timer=0;g=0;d=0;while(g<this.quantity&&d<this.particles.length){f=this.particles[d];if(f&&!f.isAlive()){a=f.getComponent(FM.ComponentTypes.SPATIAL);k=f.components[FM.ComponentTypes.PHYSIC];f.components[FM.ComponentTypes.RENDERER].setAlpha(this.alpha);a.position.x=this.spatial.position.x+this.offset.x;a.position.y=this.spatial.position.y+this.offset.y;f.age=0;c=Math.random()*(this.maxParticleVelocity.x-this.minParticleVelocity.x)+this.minParticleVelocity.x;if(this.directions.indexOf(FM.Parameters.LEFT)!==-1){if(Math.random()>0.5){c=-c}}k.velocity.x=c;c=Math.random()*(this.maxParticleVelocity.y-this.minParticleVelocity.y)+this.minParticleVelocity.y;if(this.directions.indexOf(FM.Parameters.UP)!==-1){if(Math.random()>0.5){c=-c}}k.velocity.y=c;c=Math.random()*(this.maxParticleAngularVelocity-this.minParticleAngularVelocity)+this.minParticleAngularVelocity;k.angularVelocity=c;f.show();f.revive();g=g+1}d=d+1}}}};FM.EmitterComponent.prototype.setDirections=function(a){this.directions=a};FM.EmitterComponent.prototype.setAlpha=function(a){this.alpha=a;var b;for(b=0;b<this.particles.length;b=b+1){this.particles[b].components[FM.ComponentTypes.RENDERER].setAlpha(this.alpha)}};FM.EmitterComponent.prototype.setXVelocity=function(b,a){this.minParticleVelocity.x=b;this.maxParticleVelocity.x=a};FM.EmitterComponent.prototype.setYVelocity=function(b,a){this.minParticleVelocity.y=b;this.maxParticleVelocity.y=a};FM.EmitterComponent.prototype.setAngularVelocity=function(b,a){this.minParticleAngularVelocity=b;this.maxParticleAngularVelocity=a};FM.EmitterComponent.prototype.getAlpha=function(){return this.alpha};FM.EmitterComponent.prototype.destroy=function(){this.particles=null;this.active=null;this.alpha=null;this.directions=null;this.frequency=null;this.timer=null;this.quantity=null;this.maxParticleAngularVelocity=null;this.minParticleAngularVelocity=null;this.maxParticles=null;this.offset=null;this.minParticleVelocity.destroy();this.minParticleVelocity=null;this.maxParticleVelocity.destroy();this.maxParticleVelocity=null;this.spatial=null;FM.Component.prototype.destroy.call(this)};FM.SimplePathComponent=function(a){FM.Component.call(this,FM.ComponentTypes.PATHFINDING,a);this.waypoints=[];this.currentIndex=0;this.desiredSpeed=0;this.actualSpeed=new FM.Vector(0,0);this.active=false;this.xReached=false;this.yReached=false;this.positionBeforeStopping=new FM.Vector(0,0);this.spatial=a.components[FM.ComponentTypes.SPATIAL];this.physic=a.components[FM.ComponentTypes.PHYSIC];if(FM.Parameters.debug){if(!this.spatial){console.log("ERROR: No spatial component was added and you need one for using the path component.")}if(!this.physic){console.log("ERROR: No physic component was added and you need one for using the path component.")}}};FM.SimplePathComponent.prototype=Object.create(FM.Component.prototype);FM.SimplePathComponent.prototype.constructor=FM.SimplePathComponent;FM.SimplePathComponent.prototype.startFollowingPath=function(c,a){if(this.waypoints.length>0){this.active=true;this.currentIndex=a||0;this.xReached=false;this.yReached=false;this.desiredSpeed=c;var e=Math.abs((this.spatial.position.x+this.physic.offset.x+this.physic.width/2)-this.waypoints[this.currentIndex].x),d=Math.abs((this.spatial.position.y+this.physic.offset.y+this.physic.height/2)-this.waypoints[this.currentIndex].y),b;if(e<d){b=e/d;this.actualSpeed.x=this.desiredSpeed*b;this.actualSpeed.y=this.desiredSpeed}else{if(e>d){b=d/e;this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed*b}else{this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed}}}else{if(FM.Parameters.debug){console.log("WARNING: path with no waypoints defined.")}}if(!this.physic){console.log("WARNING: path added to a game object with no physic component.")}};FM.SimplePathComponent.prototype.resumeFollowingPath=function(){if(this.waypoints.length>0){this.active=true;if(this.positionBeforeStopping.x!==this.spatial.position.x||this.positionBeforeStopping.y!==this.spatial.position.y){this.xReached=false;this.yReached=false;var c=Math.abs((this.spatial.position.x+this.physic.offset.x+this.physic.width/2)-this.waypoints[this.currentIndex].x),b=Math.abs((this.spatial.position.y+this.physic.offset.y+this.physic.height/2)-this.waypoints[this.currentIndex].y),a;if(c<b){a=c/b;this.actualSpeed.x=this.desiredSpeed*a;this.actualSpeed.y=this.desiredSpeed}else{if(c>b){a=b/c;this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed*a}else{this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed}}}}else{if(FM.Parameters.debug){console.log("WARNING: path with no waypoints defined.")}}if(!this.physic){console.log("WARNING: path added to a game object with no physic component.")}};FM.SimplePathComponent.prototype.stopFollowingPath=function(){this.active=false;this.physic.velocity.x=0;this.physic.velocity.y=0;this.positionBeforeStopping=new FM.Vector(this.spatial.position.x,this.spatial.position.y)};FM.SimplePathComponent.prototype.clearPath=function(){this.waypoints=[]};FM.SimplePathComponent.prototype.update=function(d){if(this.active&&this.physic){var e=this.spatial.position.x+this.physic.offset.x+this.physic.width/2,c=this.spatial.position.y+this.physic.offset.y+this.physic.height/2,f,b,a;if(e<this.waypoints[this.currentIndex].x){if(this.waypoints[this.currentIndex].x-e<this.actualSpeed.x*d){this.physic.velocity.x=this.waypoints[this.currentIndex].x-e;this.xReached=true}else{this.physic.velocity.x=this.actualSpeed.x}}else{if(e>this.waypoints[this.currentIndex].x){if(e-this.waypoints[this.currentIndex].x<this.actualSpeed.x*d){this.physic.velocity.x=e-this.waypoints[this.currentIndex].x;this.xReached=true}else{this.physic.velocity.x=-this.actualSpeed.x}}else{this.xReached=true;this.physic.velocity.x=0}}if(c<this.waypoints[this.currentIndex].y){if(this.waypoints[this.currentIndex].y-c<this.actualSpeed.y*d){this.physic.velocity.y=this.waypoints[this.currentIndex].y-c;this.yReached=true}else{this.physic.velocity.y=this.actualSpeed.y}}else{if(c>this.waypoints[this.currentIndex].y){if(c-this.waypoints[this.currentIndex].y<this.actualSpeed.y*d){this.physic.velocity.y=c-this.waypoints[this.currentIndex].y;this.yReached=true}else{this.physic.velocity.y=-this.actualSpeed.y}}else{this.yReached=true;this.physic.velocity.y=0}}if(this.xReached&&this.yReached){if(this.waypoints.length>this.currentIndex+1){this.xReached=false;this.yReached=false;this.currentIndex=this.currentIndex+1;f=Math.abs(e-this.waypoints[this.currentIndex].x);b=Math.abs(c-this.waypoints[this.currentIndex].y);if(f<b){a=f/b;this.actualSpeed.x=this.desiredSpeed*a;this.actualSpeed.y=this.desiredSpeed}else{if(f>b){a=b/f;this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed*a}else{this.actualSpeed.x=this.desiredSpeed;this.actualSpeed.y=this.desiredSpeed}}}else{this.active=false;this.actualSpeed=new FM.Vector(0,0);this.desiredSpeed=0;this.physic.velocity=new FM.Vector(0,0)}}}};FM.SimplePathComponent.prototype.add=function(c,a,b){if(!b){this.waypoints.push({x:c,y:a})}else{this.waypoints[b]={x:c,y:a}}};FM.SimplePathComponent.prototype.remove=function(a){this.waypoints.splice(a,1)};FM.SimplePathComponent.prototype.getWaypoints=function(){return this.waypoints};FM.SimplePathComponent.prototype.getCurrentIndex=function(){return this.currentIndex};FM.SimplePathComponent.prototype.getCurrentWaypoint=function(){return this.waypoints[this.currentIndex]};FM.SimplePathComponent.prototype.getLength=function(){return this.waypoints.length};FM.SimplePathComponent.prototype.isLastWaypointReached=function(){return this.currentIndex===this.waypoints.length-1&&!this.active};FM.SimplePathComponent.prototype.isActive=function(){return this.active};FM.SimplePathComponent.prototype.destroy=function(){this.waypoints=null;this.active=null;this.positionBeforeStopping.destroy();this.positionBeforeStopping=null;this.currentIndex=null;this.actualSpeed.destroy();this.actualSpeed=null;this.desiredSpeed=null;this.xReached=null;this.yReached=null;this.spatial=null;this.physic=null;FM.Component.prototype.destroy.call(this)};FM.PhysicComponent=function(a,c,b){FM.Component.call(this,FM.ComponentTypes.PHYSIC,b);this.world=FM.Game.getCurrentState().getWorld();this.quad=FM.Game.getCurrentState().getQuad();this.mass=1;this.invMass=1/this.mass;this.collidesWith=[];this.collisions=[];this.tilesCollisions=[];this.spatial=b.components[FM.ComponentTypes.SPATIAL];this.offset=new FM.Vector(0,0);this.width=a;this.height=c;this.velocity=new FM.Vector(0,0);this.acceleration=new FM.Vector(0,0);this.drag=new FM.Vector(0,0);this.angularVelocity=0;this.angularDrag=new FM.Vector(0,0);this.maxVelocity=new FM.Vector(1000,1000);this.maxAngularVelocity=10000;this.elasticity=0;if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for physics.")}};FM.PhysicComponent.prototype=Object.create(FM.Component.prototype);FM.PhysicComponent.prototype.constructor=FM.PhysicComponent;FM.PhysicComponent.prototype.correctPosition=function(d){var c=new FM.Vector(d.penetration*d.normal.x,d.penetration*d.normal.y),g=d.a.owner.components[FM.ComponentTypes.SPATIAL],f=d.b.owner.components[FM.ComponentTypes.SPATIAL],e=0,b=d.a.getInvMass(),a=d.b.getInvMass();e=b+a;g.position.x-=c.x*(b/e);g.position.y-=c.y*(b/e);f.position.x+=c.x*(a/e);f.position.y+=c.y*(a/e)};FM.PhysicComponent.prototype.checkCollisionsWithTiles=function(l,b,a,c,h){var e=Math.floor(h/a),m=Math.floor(c/b),d=Math.floor((h+this.height)/a),k=Math.floor((c+this.width)/b),g,f;for(g=e;g<=d;g=g+1){for(f=m;f<=k;f=f+1){if(l[g]!==0&&l[g][f]!==-1){if(f===m||f===k||g===e||g===d){return true}}}}return false};FM.PhysicComponent.prototype.tryToMove=function(g,c,f,b,a){var e=this.spatial.position.x+b,d=this.spatial.position.y+a;if(!this.checkCollisionsWithTiles(g,c,f,e+this.offset.x,d+this.offset.y)){this.spatial.position.x=e;this.spatial.position.y=d;return true}return false};FM.PhysicComponent.prototype.move=function(g,f,c){var l=g.getData(),j=g.getTileWidth(),h=g.getTileHeight(),b=false;if(Math.abs(f)>=j||Math.abs(c)>=h){this.move(g,f/2,c/2);this.move(g,f-f/2,c-c/2);return}var a=this.tryToMove(l,j,h,f,0),e=this.tryToMove(l,j,h,0,c),d,m,k;if(a&&e){return}if(!a){this.velocity.x=0;m=Math.abs(f);for(d=0;d<m;d=d+1){if(f===0){k=0}else{if(f>0){k=1}else{k=-1}}if(!this.tryToMove(l,j,h,k,0)){b=true;break}else{this.velocity.x+=k}}}if(!e){this.velocity.y=0;m=Math.abs(c);for(d=0;d<m;d=d+1){if(c===0){k=0}else{if(c>0){k=1}else{k=-1}}if(!this.tryToMove(l,j,h,0,k)){b=true;break}else{this.velocity.y+=k}}}return b};FM.PhysicComponent.prototype.update=function(a){this.collisions=[];this.tilesCollisions=[];var e=this.velocity.x+(this.invMass*this.acceleration.x)*a,c=this.maxVelocity.x+(this.invMass*this.acceleration.x)*a,k=true,b=false,l,h,f,d,n,g,m=null;if(Math.abs(e)<=c){this.velocity.x=e}else{if(e<0){this.velocity.x=-c}else{if(e>0){this.velocity.x=c}}}e=this.velocity.y+(this.invMass*this.acceleration.y)*a;c=this.maxVelocity.y+(this.invMass*this.acceleration.y)*a;if(Math.abs(e)<=c){this.velocity.y=e}else{if(e<0){this.velocity.y=-c}else{if(e>0){this.velocity.y=c}}}if(this.acceleration.x===0){if(this.velocity.x>0){this.velocity.x-=this.drag.x;if(this.velocity.x<0){this.velocity.x=0}}else{if(this.velocity.x<0){this.velocity.x+=this.drag.x;if(this.velocity.x>0){this.velocity.x=0}}}}if(this.acceleration.y===0){if(this.velocity.y>0){this.velocity.y-=this.drag.y;if(this.velocity.y<0){this.velocity.y=0}}else{if(this.velocity.y<0){this.velocity.y+=this.drag.y;if(this.velocity.y>0){this.velocity.y=0}}}}if(this.collidesWith.length>0){if(this.world.hasTileCollisions()){for(f=0;f<this.collidesWith.length;f=f+1){l=this.world.getTileMapFromType(this.collidesWith[f]);if(l&&l.canCollide()){b=this.move(l,this.velocity.x*a,this.velocity.y*a);if(b){this.tilesCollisions.push({a:this.owner,b:l})}k=false}}}}if(k){this.spatial.position.x+=this.velocity.x*a;this.spatial.position.y+=this.velocity.y*a}if(this.collidesWith.length>0){this.quad=FM.Game.getCurrentState().getQuad();h=this.quad.retrieve(this.owner);for(f=0;f<h.length;f=f+1){n=h[f];g=n.components[FM.ComponentTypes.PHYSIC];if(n.isAlive()&&this.owner.getId()!==n.getId()&&!g.isCollidingWith(this.owner)&&!this.isCollidingWith(n)){for(d=0;d<this.collidesWith.length;d=d+1){if(n.hasType(this.collidesWith[d])){m=this.owner.components[FM.ComponentTypes.PHYSIC].overlapsWithObject(g);if(m!==null){this.addCollision(m);g.addCollision(m);this.resolveCollision(g,m);g.resolveCollision(this,m);this.correctPosition(m)}}}}}}};FM.PhysicComponent.prototype.resolveCollision=function(d,b){var i=FM.Math.substractVectors(d.velocity,this.velocity),c=i.dotProduct(b.normal),h=Math.min(this.elasticity,d.elasticity),a=0,f=d.getInvMass(),g=new FM.Vector(0,0);if(c>0){return}a=-(1+h)*c;a/=this.invMass+f;g.reset(a*b.normal.x,a*b.normal.y);this.velocity.x-=this.invMass*g.x;this.velocity.y-=this.invMass*g.y;d.velocity.x+=f*g.x;d.velocity.y+=f*g.y};FM.PhysicComponent.prototype.addTypeToCollideWith=function(a){this.collidesWith.push(a)};FM.PhysicComponent.prototype.removeTypeToCollideWith=function(a){this.collidesWith.splice(this.collidesWith.indexOf(a),1)};FM.PhysicComponent.prototype.addCollision=function(a){this.collisions.push(a)};FM.PhysicComponent.prototype.getLinearVelocity=function(){return this.velocity};FM.PhysicComponent.prototype.isCollidingWithType=function(b){var a,c;for(a=0;a<this.collisions.length;a=a+1){c=this.collisions[a];if((c.b&&c.b.owner.hasType(b))||(c.a&&c.a.owner.hasType(b))){return true}}for(a=0;a<this.tilesCollisions.length;a=a+1){c=this.tilesCollisions[a];if((c.b&&c.b.hasType(b))||(c.a&&c.a.hasType(b))){return true}}return false};FM.PhysicComponent.prototype.isCollidingWith=function(b){var a,c;for(a=0;a<this.collisions.length;a=a+1){c=this.collisions[a];if((c.b&&c.b.owner.getId()===b.getId())||(c.a&&c.a.owner.getId()===b.getId())){return true}}return false};FM.PhysicComponent.prototype.setMass=function(a){this.mass=a;if(this.mass===0){this.invMass=0}else{this.invMass=1/this.mass}};FM.PhysicComponent.prototype.getMass=function(){return this.mass};FM.PhysicComponent.prototype.getInvMass=function(){return this.invMass};FM.PhysicComponent.prototype.destroy=function(){this.quad=null;this.world=null;this.collisions=null;this.tilesCollisions=null;this.collidesWith=null;this.offset.destroy();this.offset=null;this.velocity.destroy();this.velocity=null;this.acceleration.destroy();this.acceleration=null;this.spatial=null;this.mass=null;this.invMass=null;this.width=null;this.height=null;this.maxAngularVelocity=null;this.drag.destroy();this.drag=null;this.angularDrag.destroy();this.angularDrag=null;this.maxVelocity.destroy();this.maxVelocity=null;this.elasticity=null;FM.Component.prototype.destroy.call(this)};FM.AabbComponent=function(a,c,b){FM.PhysicComponent.call(this,a,c,b);this.spatial=b.components[FM.ComponentTypes.SPATIAL];if(FM.Parameters.debug){if(!this.spatial){console.log("ERROR: No spatial component was added and you need one for physics.")}}};FM.AabbComponent.prototype=Object.create(FM.PhysicComponent.prototype);FM.AabbComponent.prototype.constructor=FM.AabbComponent;FM.AabbComponent.prototype.overlapsWithType=function(c){var f,e,b,d,g=null,a=null;if(this.owner.isAlive()){f=FM.Game.getCurrentState().getQuad().retrieve(this.owner);for(e=0;e<f.length;e=e+1){b=f[e];d=b.physic;if(b.isAlive()&&d&&b.hasType(c)){a=d.overlapsWithAabb(this);if(a){g=a}}}}return g};FM.AabbComponent.prototype.overlapsWithObject=function(a){var b=a.overlapsWithAabb(this);if(b){return b}return null};FM.AabbComponent.prototype.overlapsWithAabb=function(e){if(this.owner.isAlive()&&e.owner.isAlive()){var n=e.owner.components[FM.ComponentTypes.SPATIAL],d=new FM.Vector(this.spatial.position.x+this.offset.x,this.spatial.position.y+this.offset.y),l=new FM.Vector(n.position.x+e.offset.x,n.position.y+e.offset.y),i=new FM.Vector(d.x+this.width,d.y+this.height),b=new FM.Vector(l.x+e.width,l.y+e.height),a=new FM.Vector(d.x+this.width/2,d.y+this.height/2),c=new FM.Vector(l.x+e.width/2,l.y+e.height/2),g=FM.Math.substractVectors(c,a),m=(i.x-d.x)/2,f=(b.x-l.x)/2,k=m+f-Math.abs(g.x),h,j=null;if(i.x<l.x||d.x>b.x){return null}if(i.y<l.y||d.y>b.y){return null}if(k>0){m=(i.y-d.y)/2;f=(b.y-l.y)/2;h=m+f-Math.abs(g.y);if(h>0){j=new FM.Collision(this,e);if(k<h){if(g.x<0){j.normal=g.reset(-1,0)}else{j.normal=g.reset(1,0)}j.penetration=k}else{if(g.y<0){j.normal=g.reset(0,-1)}else{j.normal=g.reset(0,1)}j.penetration=h}return j}}}return null};FM.AabbComponent.prototype.overlapsWithCircle=function(c){var m=null;if(this.owner.isAlive()&&c.owner.isAlive()){var o=c.owner.components[FM.ComponentTypes.SPATIAL],h=new FM.Vector(this.spatial.position.x+this.offset.x,this.spatial.position.y+this.offset.y),n=new FM.Vector(o.position.x+c.offset.x,o.position.y+c.offset.y),l=new FM.Vector(h.x+this.width,h.y+this.height),a=new FM.Vector(h.x+this.width/2,h.y+this.height/2),g=new FM.Vector(n.x+c.radius,n.y+c.radius),k=FM.Math.substractVectors(g,a),b,i,d=k.clone(),e=(l.x-h.x)/2,j=(l.y-h.y)/2,f=false;d.x=FM.Math.clamp(d.x,-e,e);d.y=FM.Math.clamp(d.y,-j,j);if(k.isEquals(d)){f=true;if(Math.abs(k.x)>Math.abs(k.y)){if(d.x>0){d.x=e}else{d.x=-e}}else{if(d.y>0){d.y=j}else{d.y=-j}}}m=new FM.Collision();m.a=this;m.b=c;m.normal=FM.Math.substractVectors(k,d);b=m.normal.getLengthSquared();i=c.radius;if(b>i*i&&!f){return null}b=Math.sqrt(b);m.penetration=i-b;if(f){m.normal.reset(-m.normal.x,-m.normal.y)}m.normal.normalize()}return m};FM.AabbComponent.prototype.drawDebug=function(b,c){var a=new FM.Vector(c.x+this.width/2,c.y+this.height/2),d=new FM.Vector(a.x+this.offset.x+Math.cos(this.spatial.angle)*50,a.y+this.offset.y+Math.sin(this.spatial.angle)*50);b.strokeStyle="#f4f";b.strokeRect(c.x+this.offset.x-b.xOffset,c.y+this.offset.y-b.yOffset,this.width,this.height);b.beginPath();b.strokeStyle="Blue";b.beginPath();b.moveTo(a.x+this.offset.x-b.xOffset,a.y+this.offset.y-b.yOffset);b.lineTo(d.x-b.xOffset,d.y-b.yOffset);b.stroke()};FM.AabbComponent.prototype.destroy=function(){this.spatial=null;FM.PhysicComponent.prototype.destroy.call(this)};FM.CircleComponent=function(b,a){FM.PhysicComponent.call(this,b*2,b*2,a);this.spatial=a.components[FM.ComponentTypes.SPATIAL];if(FM.Parameters.debug){if(!this.spatial){console.log("ERROR: No spatial component was added and you need one for physics.")}}this.radius=b};FM.CircleComponent.prototype=Object.create(FM.PhysicComponent.prototype);FM.CircleComponent.prototype.constructor=FM.CircleComponent;FM.CircleComponent.prototype.overlapsWithType=function(c){var f,e,b,d,g=null,a=null;if(this.owner.isAlive()){f=FM.Game.getCurrentState().getQuad().retrieve(this.owner);for(e=0;e<f.length;e=e+1){b=f[e];d=b.physic;if(b.isAlive()&&d&&b.hasType(c)){a=d.overlapsWithCircle(this);if(a){g=a}}}}return g};FM.CircleComponent.prototype.overlapsWithObject=function(a){var b=a.overlapsWithCircle(this);if(b){return b}return null};FM.CircleComponent.prototype.overlapsWithAabb=function(i){var m=null;if(this.owner.isAlive()&&i.owner.isAlive()){var o=i.owner.components[FM.ComponentTypes.SPATIAL],h=new FM.Vector(this.spatial.position.x+this.offset.x,this.spatial.position.y+this.offset.y),n=new FM.Vector(o.position.x+i.offset.x,o.position.y+i.offset.y),e=new FM.Vector(n.x+i.width,n.y+i.height),a=new FM.Vector(h.x+this.radius,h.y+this.radius),g=new FM.Vector(n.x+i.width/2,n.y+i.height/2),l=FM.Math.substractVectors(g,a),b,j,c=l.clone(),d=(e.x-n.x)/2,k=(e.y-n.y)/2,f=false;c.x=FM.Math.clamp(c.x,-d,d);c.y=FM.Math.clamp(c.y,-k,k);if(l.isEquals(c)){f=true;if(Math.abs(l.x)>Math.abs(l.y)){if(c.x>0){c.x=d}else{c.x=-d}}else{if(c.y>0){c.y=k}else{c.y=-k}}}m=new FM.Collision();m.a=this;m.b=i;m.normal=FM.Math.substractVectors(l,c);b=m.normal.getLengthSquared();j=this.radius;if(b>(j*j)&&!f){return null}b=Math.sqrt(b);m.penetration=j-b;if(f){m.normal.reset(-m.normal.x,-m.normal.y)}m.normal.normalize()}return m};FM.CircleComponent.prototype.overlapsWithCircle=function(c){if(this.owner.isAlive()&&c.owner.isAlive()){var j=c.owner.components[FM.ComponentTypes.SPATIAL],e=new FM.Vector(this.spatial.position.x+this.offset.x,this.spatial.position.y+this.offset.y),i=new FM.Vector(j.position.x+c.offset.x,j.position.y+c.offset.y),a=new FM.Vector(e.x+this.radius,e.y+this.radius),d=new FM.Vector(i.x+c.radius,i.y+c.radius),f=this.radius+c.radius,f=f*f,g=FM.Math.substractVectors(d,a),b=g.getLength(),h=null;if(g.getLengthSquared()>f){return null}else{h=new FM.Collision();h.a=this;h.b=c;if(b!==0){h.penetration=f-b;h.normal=g.reset(g.x/b,g.y/b)}else{h.penetration=this.radius;h.normal=g.reset(1,0)}return h}}return null};FM.CircleComponent.prototype.drawDebug=function(b,c){var a=new FM.Vector(c.x+this.radius,c.y+this.radius),d=new FM.Vector(a.x+this.offset.x+Math.cos(this.spatial.angle)*50,a.y+this.offset.y+Math.sin(this.spatial.angle)*50);b.beginPath();b.strokeStyle="#f4f";b.arc((a.x+this.offset.x)-b.xOffset,(a.y+this.offset.y)-b.yOffset,this.radius,0,2*Math.PI,false);b.stroke();b.beginPath();b.strokeStyle="Blue";b.beginPath();b.moveTo(a.x+this.offset.x-b.xOffset,a.y+this.offset.y-b.yOffset);b.lineTo(d.x-b.xOffset,d.y-b.yOffset);b.stroke()};FM.CircleComponent.prototype.destroy=function(){this.spatial=null;this.radius=null;FM.PhysicComponent.prototype.destroy.call(this)};FM.AnimatedSpriteRendererComponent=function(b,a,d,c){FM.Component.call(this,FM.ComponentTypes.RENDERER,c);this.finished=false;this.image=b.image;this.imageWidth=this.image.width;this.imageHeight=this.image.height;this.frameWidth=a;this.frameHeight=d;this.changedWidth=a;this.changedHeight=d;this.alpha=1;this.currentAnim="";this.flipped=false;this.xOffset=0;this.yOffset=0;this.frames=[];this.currentFrame=0;this.currentTime=0;this.delay=0.1;this.currentDelay=0.1;this.loop=[];this.rotationCenter=new FM.Vector(0,0);this.spatial=c.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}if(!this.image&&FM.Parameters.debug){console.log("ERROR: No image was provided and you need one for rendering an animated sprite.")}};FM.AnimatedSpriteRendererComponent.prototype=Object.create(FM.Component.prototype);FM.AnimatedSpriteRendererComponent.prototype.constructor=FM.AnimatedSpriteRendererComponent;FM.AnimatedSpriteRendererComponent.prototype.addAnimation=function(b,d,c,a){this.currentFrame=0;this.currentAnim=b;this.frames[b]=d;this.delay=1/c;this.currentDelay=this.delay;this.loop[b]=a};FM.AnimatedSpriteRendererComponent.prototype.play=function(a){this.currentAnim=a;this.finished=false;this.currentFrame=0;this.xOffset=this.frames[this.currentAnim][this.currentFrame]*this.frameWidth;this.yOffset=Math.floor(this.xOffset/this.imageWidth)*this.frameHeight;if(this.xOffset>=this.imageWidth){this.yOffset=Math.floor(this.xOffset/this.imageWidth)*this.frameHeight;this.xOffset=(this.xOffset%this.imageWidth);this.xOffset=Math.round(this.xOffset);this.yOffset=Math.round(this.yOffset)}};FM.AnimatedSpriteRendererComponent.prototype.stop=function(){this.finished=true};FM.AnimatedSpriteRendererComponent.prototype.draw=function(a,b){var e=b.x,d=b.y,c=(new Date()).getTime()/1000;e-=a.xOffset*this.owner.scrollFactor.x;d-=a.yOffset*this.owner.scrollFactor.y;a.globalAlpha=this.alpha;if(this.spatial.angle!==0){a.save();a.translate(Math.round(e),Math.round(d));a.translate(Math.round(this.frameWidth/2),Math.round(this.frameHeight/2));a.rotate(this.spatial.angle);a.drawImage(this.image,Math.round(this.xOffset),Math.round(this.yOffset),this.frameWidth,this.frameHeight,Math.round((this.rotationCenter.x-this.changedWidth)/2),Math.round((this.rotationCenter.y-this.changedHeight)/2),this.changedWidth,this.changedHeight);a.restore()}else{a.drawImage(this.image,Math.round(this.xOffset),Math.round(this.yOffset),this.frameWidth,this.frameHeight,Math.round(e),Math.round(d),this.changedWidth,this.changedHeight)}a.globalAlpha=1;if(!this.finished){if(this.currentDelay<=0){this.currentDelay=this.delay;if(this.frames[this.currentAnim]){if(this.frames[this.currentAnim].length>1){this.currentFrame=this.currentFrame+1;if(this.frames[this.currentAnim]&&(this.currentFrame===this.frames[this.currentAnim].length-1)){if(this.loop[this.currentAnim]){this.currentFrame=0}else{this.finished=true}}}else{this.finished=true}this.xOffset=this.frames[this.currentAnim][this.currentFrame]*this.frameWidth;this.yOffset=Math.floor(this.xOffset/this.imageWidth)*this.frameHeight;if(this.xOffset>=this.imageWidth){this.yOffset=Math.floor(this.xOffset/this.imageWidth)*this.frameHeight;this.xOffset=(this.xOffset%this.imageWidth);this.xOffset=Math.round(this.xOffset);this.yOffset=Math.round(this.yOffset)}}}else{this.currentDelay-=c-this.currentTime}}this.currentTime=c};FM.AnimatedSpriteRendererComponent.prototype.getCurrentAnim=function(){return this.currentAnim};FM.AnimatedSpriteRendererComponent.prototype.changeSize=function(a){this.changedWidth=a*this.frameWidth;this.changedHeight=a*this.frameHeight};FM.AnimatedSpriteRendererComponent.prototype.setWidth=function(a){this.changedWidth=a};FM.AnimatedSpriteRendererComponent.prototype.setHeight=function(a){this.changedHeight=a};FM.AnimatedSpriteRendererComponent.prototype.setAlpha=function(a){this.alpha=a};FM.AnimatedSpriteRendererComponent.prototype.getWidth=function(){return this.changedWidth};FM.AnimatedSpriteRendererComponent.prototype.getHeight=function(){return this.changedHeight};FM.AnimatedSpriteRendererComponent.prototype.getOriginalWidth=function(){return this.frameWidth};FM.AnimatedSpriteRendererComponent.prototype.getOriginalHeight=function(){return this.frameHeight};FM.AnimatedSpriteRendererComponent.prototype.getAlpha=function(){return this.alpha};FM.AnimatedSpriteRendererComponent.prototype.destroy=function(){this.image=null;this.currentAnim=null;this.frames=null;this.loop=null;this.spatial=null;this.flipped=null;this.changedWidth=null;this.changedHeight=null;this.delay=null;this.currentDelay=null;this.currentFrame=null;this.finished=null;this.xOffset=null;this.yOffset=null;this.alpha=null;this.frameWidth=null;this.frameHeight=null;this.imageWidth=null;this.imageHeight=null;FM.Component.prototype.destroy.call(this)};FM.BoxRendererComponent=function(a,c,d,b){FM.Component.call(this,FM.ComponentTypes.RENDERER,b);this.width=a;this.height=c;this.color=d;this.alpha=1;this.rotationCenter=new FM.Vector(0,0);this.spatial=b.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}};FM.BoxRendererComponent.prototype=Object.create(FM.Component.prototype);FM.BoxRendererComponent.prototype.constructor=FM.BoxRendererComponent;FM.BoxRendererComponent.prototype.draw=function(a,b){var d=b.x,c=b.y;d-=a.xOffset*this.owner.scrollFactor.x;c-=a.yOffset*this.owner.scrollFactor.y;a.globalAlpha=this.alpha;if(this.spatial.angle!==0){a.save();a.translate(Math.round(d),Math.round(c));a.translate(Math.round(this.width/2),Math.round(this.height/2));a.rotate(this.spatial.angle);a.beginPath();a.rect(this.rotationCenter.x,this.rotationCenter.y,this.width,this.height);a.restore()}else{a.beginPath();a.rect(d,c,this.width,this.height)}a.fillStyle=this.color;a.fill();a.globalAlpha=1};FM.BoxRendererComponent.prototype.setWidth=function(a){this.width=a};FM.BoxRendererComponent.prototype.setHeight=function(a){this.height=a};FM.BoxRendererComponent.prototype.setColor=function(a){this.color=a};FM.BoxRendererComponent.prototype.setAlpha=function(a){this.alpha=a};FM.BoxRendererComponent.prototype.getWidth=function(){return this.width};FM.BoxRendererComponent.prototype.getHeight=function(){return this.height};FM.BoxRendererComponent.prototype.getColor=function(){return this.color};FM.BoxRendererComponent.prototype.getAlpha=function(){return this.alpha};FM.BoxRendererComponent.prototype.destroy=function(){this.width=null;this.height=null;this.spatial=null;this.color=null;FM.Component.prototype.destroy.call(this)};FM.CircleRendererComponent=function(b,c,a){FM.Component.call(this,FM.ComponentTypes.RENDERER,a);this.width=b*2;this.height=b*2;this.color=c;this.alpha=1;this.rotationCenter=new FM.Vector(0,0);this.spatial=a.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}};FM.CircleRendererComponent.prototype=Object.create(FM.Component.prototype);FM.CircleRendererComponent.prototype.constructor=FM.CircleRendererComponent;FM.CircleRendererComponent.prototype.draw=function(b,c){var e=c.x-b.xOffset*this.owner.scrollFactor.x,d=c.y-b.yOffset*this.owner.scrollFactor.y,a=new FM.Vector(e+this.width/2,d+this.height/2);b.globalAlpha=this.alpha;if(this.spatial.angle!==0){b.save();b.translate(Math.round(e),Math.round(d));b.translate(Math.round(this.width/2),Math.round(this.height/2));b.rotate(this.spatial.angle);b.beginPath();b.arc(Math.round(this.rotationCenter.x),Math.round(this.rotationCenter.y),Math.round(this.width/2),0,2*Math.PI);b.restore()}else{b.beginPath();b.arc(Math.round(a.x),Math.round(a.y),Math.round(this.width/2),0,2*Math.PI)}b.fillStyle=this.color;b.fill();b.globalAlpha=1};FM.CircleRendererComponent.prototype.setWidth=function(a){this.width=a;this.height=a};FM.CircleRendererComponent.prototype.setHeight=function(a){this.height=a;this.width=a};FM.CircleRendererComponent.prototype.setRadius=function(a){this.width=a*2;this.height=a*2};FM.CircleRendererComponent.prototype.setColor=function(a){this.color=a};FM.CircleRendererComponent.prototype.setAlpha=function(a){this.alpha=a};FM.CircleRendererComponent.prototype.getWidth=function(){return this.width};FM.CircleRendererComponent.prototype.getHeight=function(){return this.height};FM.CircleRendererComponent.prototype.getRadius=function(){return this.width/2};FM.CircleRendererComponent.prototype.getColor=function(){return this.color};FM.CircleRendererComponent.prototype.getAlpha=function(){return this.alpha};FM.CircleRendererComponent.prototype.destroy=function(){this.width=null;this.height=null;this.color=null;this.alpha=null;this.spatial=null;FM.Component.prototype.destroy.call(this)};FM.LineRendererComponent=function(b,a,c){FM.Component.call(this,FM.ComponentTypes.RENDERER,c);this.points=[];this.width=0;this.height=0;this.lineWidth=b;this.lineStyle=a;this.alpha=1;this.rotationCenter=new FM.Vector(0,0);this.spatial=c.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}};FM.LineRendererComponent.prototype=Object.create(FM.Component.prototype);FM.LineRendererComponent.prototype.constructor=FM.LineRendererComponent;FM.LineRendererComponent.prototype.draw=function(a,c){if(this.points.length>0){var e=c.x,d=c.y,b;e-=a.xOffset*this.owner.scrollFactor.x;d-=a.yOffset*this.owner.scrollFactor.y;a.globalAlpha=this.alpha;if(this.spatial.angle!==0){a.save();a.translate(Math.round(e),Math.round(d));a.translate(Math.round(this.width/2),Math.round(this.height/2));a.rotate(this.spatial.angle);a.beginPath();a.moveTo(this.rotationCenter.x+Math.round(this.points[0].x),this.rotationCenter.y+Math.round(this.points[0].y));for(b=1;b<this.points.length;b=b+1){a.lineTo(Math.round(this.points[b].x),Math.round(this.points[b].y))}a.restore()}else{a.beginPath();a.moveTo(Math.round(this.points[0].x),Math.round(this.points[0].y));for(b=1;b<this.points.length;b=b+1){a.lineTo(Math.round(this.points[b].x),Math.round(this.points[b].y))}}a.strokeStyle=this.lineStyle;a.lineWidth=this.lineWidth;a.stroke();a.globalAlpha=1;a.lineWidth=1}};FM.LineRendererComponent.prototype.addPoint=function(d){this.points.push(d);var e,a,c=0,g=0,b=0,f=0;for(e=0;e<this.points.length;e=e+1){a=this.points[e];if(a.x>c){c=a.x}if(a.x<g){g=a.x}if(a.y<b){b=a.y}if(a.y>f){f=a.y}}this.width=Math.abs(c-g);this.height=Math.abs(f-b)};FM.LineRendererComponent.prototype.clear=function(){delete this.points;this.points=[]};FM.LineRendererComponent.prototype.setLineWidth=function(a){this.lineWidth=a};FM.LineRendererComponent.prototype.setLineStyle=function(a){this.lineStyle=a};FM.LineRendererComponent.prototype.setAlpha=function(a){this.alpha=a};FM.LineRendererComponent.prototype.getWidth=function(){return this.width};FM.LineRendererComponent.prototype.getHeight=function(){return this.height};FM.LineRendererComponent.prototype.getLineWidth=function(){return this.lineWidth};FM.LineRendererComponent.prototype.getLineStyle=function(){return this.lineStyle};FM.LineRendererComponent.prototype.getAlpha=function(){return this.alpha};FM.LineRendererComponent.prototype.destroy=function(){this.spatial=null;this.width=null;this.height=null;this.lineWidth=null;this.lineHeight=null;this.alpha=null;var a;for(a=0;a<this.points.length;a=a+1){this.points[a].destroy();this.points[a]=null}this.points=null;FM.Component.prototype.destroy.call(this)};FM.SpriteRendererComponent=function(b,a,d,c){FM.Component.call(this,FM.ComponentTypes.RENDERER,c);this.offset=new FM.Vector(0,0);this.image=b.image;this.width=a;this.height=d;this.changedWidth=a;this.changedHeight=d;this.alpha=1;this.rotationCenter=new FM.Vector(0,0);this.spatial=c.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}if(!this.image&&FM.Parameters.debug){console.log("ERROR: No image was provided and you need one for rendering a sprite.")}};FM.SpriteRendererComponent.prototype=Object.create(FM.Component.prototype);FM.SpriteRendererComponent.prototype.constructor=FM.SpriteRendererComponent;FM.SpriteRendererComponent.prototype.draw=function(a,b){var d=b.x,c=b.y,e=new FM.Vector(Math.round(this.offset.x),Math.round(this.offset.y));d-=a.xOffset*this.owner.scrollFactor.x;c-=a.yOffset*this.owner.scrollFactor.y;a.globalAlpha=this.alpha;if(this.spatial.angle!==0){a.save();a.translate(Math.round(d),Math.round(c));a.translate(Math.round(this.width/2),Math.round(this.height/2));a.rotate(this.spatial.angle);a.drawImage(this.image,e.x,e.y,this.width,this.height,Math.round((this.rotationCenter.x-this.changedWidth)/2),Math.round((this.rotationCenter.y-this.changedHeight)/2),this.changedWidth,this.changedHeight);a.restore()}else{a.drawImage(this.image,e.x,e.y,this.width,this.height,Math.round(d),Math.round(c),this.changedWidth,this.changedHeight)}a.globalAlpha=1};FM.SpriteRendererComponent.prototype.changeSize=function(a){this.changedWidth=a*this.width;this.changedHeight=a*this.height};FM.SpriteRendererComponent.prototype.setWidth=function(a){this.changedWidth=a};FM.SpriteRendererComponent.prototype.setHeight=function(a){this.changedHeight=a};FM.SpriteRendererComponent.prototype.setImage=function(b,a,c){this.image=b.image;this.width=a;this.height=c};FM.SpriteRendererComponent.prototype.setAlpha=function(a){this.alpha=a};FM.SpriteRendererComponent.prototype.getWidth=function(){return this.changedWidth};FM.SpriteRendererComponent.prototype.getHeight=function(){return this.changedHeight};FM.SpriteRendererComponent.prototype.getOriginalWidth=function(){return this.width};FM.SpriteRendererComponent.prototype.getOriginalHeight=function(){return this.height};FM.SpriteRendererComponent.prototype.getAlpha=function(){return this.alpha};FM.SpriteRendererComponent.prototype.destroy=function(){this.offset.destroy();this.offset=null;this.image=null;this.spatial=null;this.width=null;this.height=null;this.changedWidth=null;this.changedHeight=null;this.alpha=null;FM.Component.prototype.destroy.call(this)};FM.TextRendererComponent=function(b,a){FM.Component.call(this,FM.ComponentTypes.RENDERER,a);this.text=b;this.width=50;this.height=50;this.fillStyle="#fff";this.font="30px sans-serif";this.textBaseline="middle";this.spatial=a.components[FM.ComponentTypes.SPATIAL];if(!this.spatial&&FM.Parameters.debug){console.log("ERROR: No spatial component was added and you need one for rendering.")}};FM.TextRendererComponent.prototype=Object.create(FM.Component.prototype);FM.TextRendererComponent.prototype.constructor=FM.TextRendererComponent;FM.TextRendererComponent.prototype.setFormat=function(c,a,b){this.fillStyle=c;this.font=a;this.textBaseline=b};FM.TextRendererComponent.prototype.draw=function(a,b){var d=b.x,c=b.y;d-=a.xOffset*this.owner.scrollFactor.x;c-=a.yOffset*this.owner.scrollFactor.y;a.fillStyle=this.fillStyle;a.font=this.font;a.textBaseline=this.textBaseline;a.fillText(this.text,Math.round(d),Math.round(c))};FM.TextRendererComponent.prototype.getWidth=function(){return this.width};FM.TextRendererComponent.prototype.getHeight=function(){return this.height};FM.TextRendererComponent.prototype.destroy=function(){this.spatial=null;this.text=null;this.width=null;this.height=null;this.fillStyle=null;this.font=null;this.textBaseline=null;FM.Component.prototype.destroy.call(this)};FM.AudioComponent=function(a){FM.Component.call(this,FM.ComponentTypes.SOUND,a);this.sounds=[]};FM.AudioComponent.prototype=Object.create(FM.Component.prototype);FM.AudioComponent.prototype.constructor=FM.AudioComponent;FM.AudioComponent.prototype.replay=function(a){a.currentTime=0;a.play()};FM.AudioComponent.prototype.play=function(b,c,f){var d,e,a=false;if(typeof c==="undefined"){c=1}if(typeof f==="undefined"){f=false}for(d=0;d<this.sounds.length;d=d+1){e=this.sounds[d];if(e&&e.name===b){a=true;e.audio.volume=c;if(f){e.audio.addEventListener("ended",function(){if(window.chrome){this.load(FM.AudioComponent.prototype.replay)}else{this.currentTime=0;this.play()}},false)}e.load(FM.AudioComponent.prototype.replay)}}if(!a){if(FM.Parameters.debug){console.log("WARNING: you're trying to play a sound that does not exist.")}}};FM.AudioComponent.prototype.pause=function(a){var b,c;for(b=0;b<this.sounds.length;b=b+1){c=this.sounds[b];if(c.name===a){c.audio.pause()}}};FM.AudioComponent.prototype.addSound=function(a){this.sounds.push(a)};FM.AudioComponent.prototype.isPlaying=function(a){var b,c;for(b=0;b<this.sounds.length;b=b+1){c=this.sounds[b];if(c.name===a){return !c.audio.paused}}};FM.AudioComponent.prototype.getSoundByName=function(a){var b,c;for(b=0;b<this.sounds.length;b=b+1){c=this.sounds[b];if(c.name===a){return c}}return null};FM.AudioComponent.prototype.destroy=function(){this.sounds=null;FM.Component.prototype.destroy.call(this)};FM.SpatialComponent=function(b,a,c){FM.Component.call(this,FM.ComponentTypes.SPATIAL,c);this.position=new FM.Vector(Math.floor(b),Math.floor(a));this.previous=new FM.Vector(Math.floor(b),Math.floor(a));this.angle=0};FM.SpatialComponent.prototype=Object.create(FM.Component.prototype);FM.SpatialComponent.prototype.constructor=FM.SpatialComponent;FM.SpatialComponent.prototype.destroy=function(){this.position=null;this.previous=null;this.angle=null;FM.Component.prototype.destroy.call(this)};
/**
 * {FM.js(engine);} v1.1
 * http://simonchauvin.github.io/FM.js-Engine/
 *
 * Copyright (c) 2013 Simon Chauvin.
 * Licenced under the MIT License.
 */

